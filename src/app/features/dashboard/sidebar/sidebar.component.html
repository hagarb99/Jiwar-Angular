<aside class="fixed left-0 top-20 w-64 bg-white border-r flex flex-col h-[calc(100vh-5rem)] z-40"
  *ngIf="currentUser$ | async as currentUser">
  <div class="p-6 text-center border-b">
    <div class="w-16 h-16 mx-auto rounded-full bg-slate-900 text-white flex items-center justify-center text-xl">
      {{ currentUser.name?.charAt(0) || 'U' }}
    </div>

    <h3 class="mt-3 font-bold">{{ currentUser.name }}</h3>
    <p class="text-xs text-gray-500">{{ currentUser.email }}</p>

    <span class="mt-2 inline-block px-3 py-1 text-xs rounded bg-amber-100 text-amber-700">
      {{ currentUser.role }}
    </span>
  </div>
 
  <nav class="flex-1 p-4 space-y-1 overflow-y-auto">
    <a *ngFor="let item of getMenuItemsForRole(currentUser.role)" [routerLink]="item.path"
      routerLinkActive="bg-slate-900 text-white" class="flex items-center px-4 py-2 rounded hover:bg-gray-100">
      <svg class="w-5 h-5 mr-3" fill="none" viewBox="0 0 24 24" stroke="currentColor">
        <path [attr.d]="item.icon" stroke-width="2" stroke-linecap="round" stroke-linejoin="round" />
      </svg>
      {{ item.label }}
    </a>
  </nav>

  <div class="p-4 border-t">
    <button (click)="logout()" class="w-full text-left text-red-600">
      Sign Out
    </button>
  </div>
</aside>