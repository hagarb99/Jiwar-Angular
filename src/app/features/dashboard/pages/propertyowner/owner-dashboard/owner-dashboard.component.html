<div class="max-w-7xl mx-auto p-6">
  <!-- Welcome Message -->
  <div class="mb-6">
    <h1 class="text-3xl font-bold text-gray-900 mb-2">
      Welcome back, {{ getCurrentUser()?.name || 'Property Owner' }}!
    </h1>
    <p class="text-gray-600">Here's your property management overview</p>
  </div>

  <!-- Overview Stats -->
  <div class="grid grid-cols-1 md:grid-cols-2 lg:grid-cols-4 gap-6 mb-6">
    <div *ngFor="let stat of overviewStats" 
         [class]="'bg-white rounded-xl p-6 border border-gray-100 ' + stat.bg">
      <div class="flex items-center justify-between">
        <div>
          <p class="text-sm text-gray-600 mb-1">{{ stat.label }}</p>
          <p class="text-2xl font-bold text-gray-900">{{ stat.value }}</p>
        </div>
        <div class="w-12 h-12 rounded-lg bg-gray-100 flex items-center justify-center">
          <svg class="w-6 h-6 text-gray-600" fill="none" viewBox="0 0 24 24" stroke="currentColor">
            <path [attr.d]="stat.icon" stroke-width="2" stroke-linecap="round" stroke-linejoin="round" />
          </svg>
        </div>
      </div>
    </div>
  </div>

  <!-- Quick Actions -->
  <div class="grid grid-cols-1 md:grid-cols-3 gap-6 mb-6">
    <a routerLink="/dashboard/propertyowner/design-requests/create"
       class="bg-blue-600 hover:bg-blue-700 text-white rounded-xl p-6 flex items-center justify-between transition-colors">
      <div>
        <h3 class="text-lg font-bold mb-1">Create Design Request</h3>
        <p class="text-blue-100 text-sm">Start a new interior design project</p>
      </div>
      <svg class="w-8 h-8" fill="none" viewBox="0 0 24 24" stroke="currentColor">
        <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M12 4v16m8-8H4" />
      </svg>
    </a>

    <a routerLink="/dashboard/propertyowner/my-properties"
       class="bg-green-600 hover:bg-green-700 text-white rounded-xl p-6 flex items-center justify-between transition-colors">
      <div>
        <h3 class="text-lg font-bold mb-1">My Properties</h3>
        <p class="text-green-100 text-sm">Manage your property listings</p>
      </div>
      <svg class="w-8 h-8" fill="none" viewBox="0 0 24 24" stroke="currentColor">
        <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M3 12l2-2m0 0l7-7 7 7M5 10v10a1 1 0 001 1h3m10-11l2 2m-2-2v10a1 1 0 01-1 1h-3m-6 0a1 1 0 001-1v-4a1 1 0 011-1h2a1 1 0 011 1v4a1 1 0 001 1m-6 0h6" />
      </svg>
    </a>

    <a routerLink="/dashboard/propertyowner/my-requests"
       class="bg-purple-600 hover:bg-purple-700 text-white rounded-xl p-6 flex items-center justify-between transition-colors">
      <div>
        <h3 class="text-lg font-bold mb-1">My Requests</h3>
        <p class="text-purple-100 text-sm">View all design requests</p>
      </div>
      <svg class="w-8 h-8" fill="none" viewBox="0 0 24 24" stroke="currentColor">
        <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M9 12h6m-6 4h6m2 5H7a2 2 0 01-2-2V5a2 2 0 012-2h5.586a1 1 0 01.707.293l5.414 5.414a1 1 0 01.293.707V19a2 2 0 01-2 2z" />
      </svg>
    </a>
  </div>

  <!-- Recent Design Requests Section -->
  <div class="bg-white rounded-xl p-6 border border-gray-100 mb-6">
    <div class="flex items-center justify-between mb-4">
      <h2 class="text-xl font-bold text-gray-900 flex items-center">
        <svg class="w-6 h-6 mr-2 text-blue-500" fill="none" viewBox="0 0 24 24" stroke="currentColor">
          <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M9 12h6m-6 4h6m2 5H7a2 2 0 01-2-2V5a2 2 0 012-2h5.586a1 1 0 01.707.293l5.414 5.414a1 1 0 01.293.707V19a2 2 0 01-2 2z" />
        </svg>
        Recent Design Requests
      </h2>
      <a routerLink="/dashboard/propertyowner/my-requests" 
         class="text-blue-600 hover:text-blue-800 font-semibold text-sm">
        View All â†’
      </a>
    </div>
    
    <div *ngIf="loading" class="text-center py-8">
      <p class="text-gray-500">Loading requests...</p>
    </div>

    <div *ngIf="!loading && requests.length === 0" class="text-center py-8">
      <svg class="w-16 h-16 text-gray-400 mx-auto mb-4" fill="none" viewBox="0 0 24 24" stroke="currentColor">
        <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M9 12h6m-6 4h6m2 5H7a2 2 0 01-2-2V5a2 2 0 012-2h5.586a1 1 0 01.707.293l5.414 5.414a1 1 0 01.293.707V19a2 2 0 01-2 2z" />
      </svg>
      <p class="text-gray-500 mb-4">No design requests yet</p>
      <a routerLink="/dashboard/propertyowner/design-requests/create"
         class="inline-block px-6 py-2.5 bg-blue-600 text-white rounded-lg font-semibold hover:bg-blue-700 transition-colors">
        Create Your First Request
      </a>
    </div>

    <div *ngIf="!loading && requests.length > 0" class="space-y-3">
      <a *ngFor="let request of requests.slice(0, 5)" 
         [routerLink]="['/dashboard/propertyowner/design-requests', request.id]"
         class="flex items-center justify-between p-4 bg-gray-50 rounded-lg hover:bg-gray-100 transition-colors cursor-pointer">
        <div class="flex-1">
          <h3 class="font-semibold text-gray-900">Request #{{ request.id }}</h3>
          <p class="text-sm text-gray-600">Style: {{ request.preferredStyle }}</p>
          <p class="text-xs text-gray-500 mt-1">{{ request.createdAt | date:'short' }}</p>
        </div>
        <div class="text-right ml-4">
          <span [class]="'px-3 py-1 rounded-full text-xs font-semibold ' + 
            (getStatusSeverity(request.status) === 'success' ? 'bg-green-100 text-green-800' : 
             getStatusSeverity(request.status) === 'danger' ? 'bg-red-100 text-red-800' : 
             getStatusSeverity(request.status) === 'info' ? 'bg-blue-100 text-blue-800' : 
             'bg-gray-100 text-gray-800')">
            {{ request.status }}
          </span>
          <p *ngIf="request.budget" class="text-sm font-semibold text-gray-900 mt-2">
            {{ request.budget | number }} SAR
          </p>
        </div>
      </a>
    </div>
  </div>

  <!-- Profile Summary -->
  <div *ngIf="profile" class="bg-gradient-to-r from-blue-600 to-purple-600 rounded-xl p-6 text-white">
    <div class="flex items-center justify-between">
      <div>
        <h2 class="text-xl font-bold mb-2">Profile Summary</h2>
        <p class="text-blue-100 mb-4">{{ profile.bio || 'Complete your profile to get started' }}</p>
        <a routerLink="/dashboard/propertyowner/profile"
           class="inline-block px-6 py-2.5 bg-white text-blue-600 rounded-lg font-semibold hover:bg-blue-50 transition-colors">
          View Profile
        </a>
      </div>
      <div *ngIf="profile.profilePicURL" class="hidden md:block">
        <img [src]="profile.profilePicURL" 
             [alt]="profile.name"
             class="w-24 h-24 rounded-full border-4 border-white/20 object-cover">
      </div>
    </div>
  </div>
</div>

